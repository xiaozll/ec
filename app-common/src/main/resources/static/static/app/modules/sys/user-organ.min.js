var defaultOrganComboboxData=defaultOrganComboboxData;var organIds=organIds;var defaultOrganId=defaultOrganId;var $organs_combotree;var $defaultOrgan_combobox;$(function(){loadOrgan();initdDefaultOrgan()});function initdDefaultOrgan(){$defaultOrgan_combobox=$("#defaultOrganId").combobox({editable:false,data:defaultOrganComboboxData,value:defaultOrganId})}function loadOrgan(){var a=false;$organs_combotree=$("#organIds").combotree({url:ctxAdmin+"/sys/organ/tree?dataScope=2&cascade=true",multiple:true,editable:false,cascadeCheck:false,value:organIds,onHidePanel:function(){if(a){var e=$(this).combotree("tree").tree("getChecked");var d=new Array();var c=$defaultOrgan_combobox.combobox("getValues");var b=new Array();$.each(e,function(f,g){d.push({value:g.id,text:g.text});$.each(c,function(h,i){if(g.id==i){b.push(i)}})});if(b.length==0&&e!=null&&e.length>0){b.push(e[0].id)}$defaultOrgan_combobox.combobox("setValues",b);$defaultOrgan_combobox.combobox("loadData",d)}},onChange:function(c,b){if((c.length!=0||b.length!=0)&&c.toString()!=b.toString()){a=true}else{a=false}}})};