var modelId=modelId;var modelStatus=modelStatus;var modelType=modelType;var $type_combobox;var $_parent_combotree;var typeUrl=ctxAdmin+"/sys/resource/resourceTypeCombobox";$(function(){loadParent();loadIco();if(modelId==""){setSortValue();$("input[name=status]:eq(0)").prop("checked","checked")}else{$("input[name=status][value="+modelStatus+"]").prop("checked","checked")}});function loadParent(){$_parent_combotree=$("#_parentId").combotree({url:ctxAdmin+"/sys/resource/parent?selectType=select",multiple:false,editable:false,valueField:"id",onBeforeLoad:function(a,b){b.id=modelId},onSelect:function(a){var b=a.id;if(b!=undefined){$type_combobox.combobox("reload",typeUrl+"?parentId="+b)}},onLoadSuccess:function(){var a=$_parent_combotree.combotree("getValue");loadType(a)}})}function loadIco(){$("#iconCls").combobox({method:"get",url:ctxStatic+"/js/json/resource.json",multiple:false,editable:false,formatter:function(a){return $.formatString('<span class="tree-icon tree-file {0}"></span>{1}',a.value,a.text)}})}function loadType(a){$type_combobox=$("#type").combobox({url:typeUrl+"?parentId="+a,multiple:false,editable:false,value:modelType})}function setSortValue(){$.get(ctxAdmin+"/sys/resource/maxSort",function(a){if(a.code==1){$("#sort").numberspinner("setValue",a.obj+30)}},"json")};