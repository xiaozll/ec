(function(a){if(parent!=window&&parent.jQuery&&parent.jQuery.mask&&parent.jQuery.fn.mask){a.mask=parent.jQuery.mask;a.fn.mask=parent.jQuery.fn.mask;return}function b(i,l){var c=a(i);if(a("div.mask",c).length){c.mask("hide")}c.attr("position",c.css("position"));c.attr("overflow",c.css("overflow"));c.css("position","relative");c.css("overflow","hidden");var g={position:"absolute",left:0,top:0,cursor:"wait",background:"#ccc",opacity:l.opacity,filter:"alpha(opacity="+l.opacity*100+")",display:"none"};var h={position:"absolute",width:"auto",padding:"10px 20px",border:"2px solid #ccc",color:"white",cursor:"wait",display:"none",borderRadius:5,background:"black",opacity:0.6,filter:"alpha(opacity=60)"};var d,k,f,j;if(i=="body"){d=Math.max(document.documentElement.clientWidth,document.body.clientWidth);k=Math.max(document.documentElement.clientHeight,document.body.clientHeight)}else{d=c.outerWidth()||"100%";k=c.outerHeight()||"100%"}a('<div class="mask"></div>').css(a.extend({},g,{display:"block",width:d,height:k,zIndex:l.zIndex})).appendTo(c);var e=a('<div class="mask-msg"></div>').html(l.maskMsg).appendTo(c).css(h);if(i=="body"){f=(Math.max(document.documentElement.clientWidth,document.body.clientWidth)-a("div.mask-msg",c).outerWidth())/2;if(document.documentElement.clientHeight>document.body.clientHeight){j=(Math.max(document.documentElement.clientHeight,document.body.clientHeight)-a("div.mask-msg",c).outerHeight())/2}else{j=(Math.min(document.documentElement.clientHeight,document.body.clientHeight)-a("div.mask-msg",c).outerHeight())/2}}else{f=(c.width()-a("div.mask-msg",c).outerWidth())/2;j=(c.height()-a("div.mask-msg",c).outerHeight())/2}e.css({display:"block",zIndex:l.zIndex+1,left:f,top:j});setTimeout(function(){c.mask("hide")},l.timeout);return c}a.fn.mask=function(c){if(typeof c=="string"){return a.fn.mask.methods[c](this)}c=a.extend({},a.fn.mask.defaults,c);return b(this,c)};a.mask=function(c){if(typeof c=="string"){return a.fn.mask.methods[c]("body")}c=a.extend({},a.fn.mask.defaults,c);return b("body",c)};a.mask.hide=function(){a("body").mask("hide")};a.fn.mask.methods={hide:function(c){return c.each(function(){var d=a(this);a("div.mask",d).fadeOut(function(){a(this).remove()});a("div.mask-msg",d).fadeOut(function(){a(this).remove();d.css("position",d.attr("position"));d.css("overflow",d.attr("overflow"))})})}};a.fn.mask.defaults={maskMsg:"\u52A0\u8F7D\u4E2D......",zIndex:100000,timeout:30000,opacity:0.6}})(jQuery);